cmake_minimum_required (VERSION 3.13)

# project name
project ("dll-parent")

# build target
add_library(${PROJECT_NAME} SHARED "include/dll-parent.h" "src/dll-parent.cpp")

# add dependent library
add_subdirectory("external/dll-sub")
target_link_libraries(${PROJECT_NAME} PUBLIC dll-sub)

# add include directory
target_include_directories(${PROJECT_NAME} PUBLIC
"include"
"external/dll-sub/include"
)

# set symbols exports flag
target_compile_definitions(${PROJECT_NAME} PRIVATE DLL_SUB_EXPORTS)
